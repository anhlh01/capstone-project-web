"use strict";(self.webpackChunkarchitectui_react_theme_free=self.webpackChunkarchitectui_react_theme_free||[]).push([[364],{9364:function(e,t,n){n.r(t),n.d(t,{default:function(){return S}});var r=n(72791),a=n(89991),s=n(41238),o=n(63023),c=n(74165),i=n(15861),l=n(29439),u=n(78267),p=n(57823),d=n(43464),h=n(49037),x=n(14448),f=n(69399),m=n(76167),j=n(42976),w=n(39773),Z=n(8118),v=n(19127),g=n(27589),k=n(34457),N=n(80184),I=function(){var e=(0,r.useState)([]),t=(0,l.Z)(e,2),n=t[0],a=t[1],s=(0,r.useState)(!0),o=(0,l.Z)(s,2),I=o[0],S=o[1],y=(0,r.useState)(null),b=(0,l.Z)(y,2),T=b[0],E=b[1],A=(0,r.useState)(0),C=(0,l.Z)(A,2),J=C[0],O=C[1],z=(0,r.useState)(null),D=(0,l.Z)(z,2),M=D[0],V=D[1],R=(0,r.useState)(["PENDING","APPROVED","REJECTED"]),B=(0,l.Z)(R,2),F=B[0],U=B[1],P=(0,r.useState)(null),G=(0,l.Z)(P,2),_=G[0],L=G[1],X=(0,r.useState)(!0),W=(0,l.Z)(X,2),Q=W[0],Y=W[1],H=function(){var e=(0,i.Z)((0,c.Z)().mark((function e(){var t,n,r,s;return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=window.location.href,n=t.split("/"),r=n[n.length-1],O(r),console.log("status: ",F.length),e.prev=5,"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOjgsImlhdCI6MTcxMTY4NjkwMCwiZXhwIjoxNzExNjg4NzAwLCJ0eXBlIjoiQUNDRVNTIn0.zlxkFbOBz4MSroNrkhMVFJ1dOh3W9tVTA-5asNDwk70",e.next=9,(0,g.Nm)("applications","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOjgsImlhdCI6MTcxMTY4NjkwMCwiZXhwIjoxNzExNjg4NzAwLCJ0eXBlIjoiQUNDRVNTIn0.zlxkFbOBz4MSroNrkhMVFJ1dOh3W9tVTA-5asNDwk70",r);case 9:(s=e.sent).createdAt=q(s.createdAt),s.updatedAt=q(s.updatedAt),a(s),V(s.status),L(s.type),"PENDING"!=s.status?(U([s.status]),Y(!0)):Y(!1),e.next=21;break;case 18:e.prev=18,e.t0=e.catch(5),E(e.t0);case 21:return e.prev=21,S(!1),e.finish(21);case 24:case"end":return e.stop()}}),e,null,[[5,18,21,24]])})));return function(){return e.apply(this,arguments)}}();(0,r.useEffect)((function(){H()}),[]);function q(e){return(0,k.R)(e)}if(I)return(0,N.jsx)("div",{children:"Loading..."});if(T)return(0,N.jsxs)("div",{children:["Error: ",T.message]});return(0,N.jsx)(r.Fragment,{children:(0,N.jsx)(u.TransitionGroup,{children:(0,N.jsx)(u.CSSTransition,{component:"div",classNames:"TabsAnimation",appear:!0,timeout:0,enter:!1,exit:!1,children:(0,N.jsx)(p.Z,{fluid:!0,children:(0,N.jsx)(d.Z,{className:"main-card mb-3",children:(0,N.jsxs)(h.Z,{children:[(0,N.jsxs)(x.Z,{children:["Admin detail # ",J]}),(0,N.jsxs)(f.Z,{onSubmit:function(e){e.preventDefault();var t=function(){var e=(0,i.Z)((0,c.Z)().mark((function e(){var t;return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,g.wv)("applications",M,J);case 3:t=e.sent,a(t),V(t.status),L(t.type),Y(!1),console.log("status: "+M),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),E(e.t0);case 14:return e.prev=14,S(!1),H(),e.finish(14);case 18:case"end":return e.stop()}}),e,null,[[0,11,14,18]])})));return function(){return e.apply(this,arguments)}}();t()},children:[(0,N.jsxs)(m.Z,{row:!0,children:[(0,N.jsx)(j.Z,{for:"exampleEmail",sm:2,children:"Approved By Id"}),(0,N.jsx)(w.Z,{sm:10,children:(0,N.jsx)(Z.Z,{disabled:!0,type:"text",name:"approvedById",id:"exampleEmail",placeholder:"with a placeholder",value:n.approvedById})})]}),(0,N.jsxs)(m.Z,{row:!0,children:[(0,N.jsx)(j.Z,{for:"examplePassword",sm:2,children:"Created At"}),(0,N.jsx)(w.Z,{sm:10,children:(0,N.jsx)(Z.Z,{disabled:!0,type:"text",name:"createdAt",id:"createdat",placeholder:"password placeholder",value:n.createdAt})})]}),(0,N.jsxs)(m.Z,{row:!0,children:[(0,N.jsx)(j.Z,{for:"examplePassword",sm:2,children:"Updated At"}),(0,N.jsx)(w.Z,{sm:10,children:(0,N.jsx)(Z.Z,{disabled:!0,type:"text",name:"updatedAt",id:"updatedat",placeholder:"password placeholder",value:n.updatedAt})})]}),(0,N.jsxs)(m.Z,{row:!0,children:[(0,N.jsx)(j.Z,{for:"status",sm:2,children:"Status"}),(0,N.jsx)(w.Z,{sm:10,children:(0,N.jsx)(Z.Z,{type:"select",name:"select",id:n.status,value:M,onChange:function(e){"PENDING"==n.status&&V(e.target.value)},children:F.map((function(e,t){return(0,N.jsx)("option",{value:e,children:e},t)}))})})]}),(0,N.jsxs)(m.Z,{row:!0,children:[(0,N.jsx)(j.Z,{for:"exampleText",sm:2,children:"Type"}),(0,N.jsx)(w.Z,{sm:10,children:(0,N.jsx)(Z.Z,{disabled:!0,type:"text",name:"select",id:n.type,value:_,onChange:function(e){V(e.target.value)},children:(0,N.jsx)("option",{value:_,children:_},_)})})]}),(0,N.jsxs)(m.Z,{row:!0,children:[(0,N.jsx)(j.Z,{for:"exampleText",sm:2,children:"Description"}),(0,N.jsx)(w.Z,{sm:10,children:(0,N.jsx)(Z.Z,{disabled:!0,type:"textarea",name:"description",id:"exampleText",value:n.description})})]}),Q?(0,N.jsx)("div",{}):(0,N.jsx)(m.Z,{check:!0,row:!0,children:(0,N.jsx)(w.Z,{sm:{size:10,offset:2},children:(0,N.jsx)(v.Z,{children:"Update"})})})]})]})})})})})})},S=function(e){e.match;return(0,N.jsxs)(r.Fragment,{children:[(0,N.jsx)(a.Z,{}),(0,N.jsxs)("div",{className:"app-main",children:[(0,N.jsx)(s.Z,{}),(0,N.jsxs)("div",{className:"app-main__outer",children:[(0,N.jsx)(I,{}),(0,N.jsx)("div",{className:"app-wrapper-footer",children:(0,N.jsx)(o.Z,{})})]})]})]})}},27589:function(e,t,n){n.d(t,{Nm:function(){return i},rQ:function(){return o},wv:function(){return u}});var r=n(74165),a=n(15861),s="http://14.225.211.111:3000/v1";function o(e,t){return c.apply(this,arguments)}function c(){return c=(0,a.Z)((0,r.Z)().mark((function e(t,n){var a,o,c,i,l,u,p=arguments;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=p.length>2&&void 0!==p[2]?p[2]:{},o=new URL("".concat(s,"/").concat(t)),c=localStorage.getItem("user"),i=null,n="",null!==c?(i=JSON.parse(c),console.log(i),n=i.tokens.access.token):console.log("Value not found in local storage"),console.log(n),Object.keys(a).forEach((function(e){return o.searchParams.append(e,a[e])})),e.next=10,fetch(o,{method:"GET",headers:{Authorization:"Bearer ".concat(n),"Content-Type":"application/json"}});case 10:if(l=e.sent,console.log(l),l.ok){e.next=14;break}throw new Error("Network response was not ok");case 14:return e.prev=14,e.next=17,l.json();case 17:return u=e.sent,console.log(u),e.abrupt("return",u);case 22:throw e.prev=22,e.t0=e.catch(14),new Error("Failed to parse response JSON");case 25:case"end":return e.stop()}}),e,null,[[14,22]])}))),c.apply(this,arguments)}function i(e,t,n){return l.apply(this,arguments)}function l(){return(l=(0,a.Z)((0,r.Z)().mark((function e(t,n,a){var o,c,i,l,u;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=new URL("".concat(s,"/").concat(t,"/").concat(a)),c=localStorage.getItem("user"),i=null,n="",null!==c?(console.log(c),i=JSON.parse(c),console.log(i.tokens.access.token),n=i.tokens.access.token):console.log("Value not found in local storage"),console.log(n),e.next=8,fetch(o,{method:"GET",headers:{Authorization:"Bearer ".concat(n),"Content-Type":"application/json"}});case 8:if((l=e.sent).ok){e.next=11;break}throw new Error("Network response was not ok");case 11:return e.prev=11,e.next=14,l.json();case 14:return u=e.sent,console.log(u),e.abrupt("return",u);case 19:throw e.prev=19,e.t0=e.catch(11),new Error("Failed to parse response JSON");case 22:case"end":return e.stop()}}),e,null,[[11,19]])})))).apply(this,arguments)}function u(e,t,n){return p.apply(this,arguments)}function p(){return(p=(0,a.Z)((0,r.Z)().mark((function e(t,n,a){var o,c,i,l,u,p;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=new URL("".concat(s,"/").concat(t,"/").concat(a,"/status")),c=localStorage.getItem("user"),i=null,l="",null!==c?(i=JSON.parse(c),l=i.tokens.access.token):console.log("Value not found in local storage"),console.log(l),e.next=8,fetch(o,{method:"PUT",headers:{Authorization:"Bearer ".concat(l),"Content-Type":"application/json"},body:JSON.stringify({status:n})});case 8:if((u=e.sent).ok){e.next=11;break}throw new Error("Network response was not ok");case 11:return e.prev=11,e.next=14,u.json();case 14:return p=e.sent,console.log(p),e.abrupt("return",p);case 19:throw e.prev=19,e.t0=e.catch(11),new Error("Failed to parse response JSON");case 22:case"end":return e.stop()}}),e,null,[[11,19]])})))).apply(this,arguments)}},34457:function(e,t,n){function r(e){var t=new Date(e);if(isNaN(t.getTime()))return"Invalid Date";var n=String(t.getHours()).padStart(2,"0"),r=String(t.getMinutes()).padStart(2,"0"),a=String(t.getDate()).padStart(2,"0"),s=String(t.getMonth()+1).padStart(2,"0"),o=t.getFullYear();return"".concat(n,":").concat(r," ").concat(a,"-").concat(s,"-").concat(o)}n.d(t,{R:function(){return r}})}}]);
//# sourceMappingURL=364.16c0aef0.chunk.js.map